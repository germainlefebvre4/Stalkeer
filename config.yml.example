# Stalkeer Configuration Example
# Copy this file to config.yml and adjust values as needed

database:
  host: localhost
  port: 5432
  user: stalkeer
  password: your_password_here
  dbname: stalkeer
  sslmode: disable

m3u:
  file_path: /path/to/playlist.m3u  # Optional if provided via CLI argument
  update_interval: 3600  # seconds
  
  # M3U playlist download settings
  download:
    enabled: false  # Enable automatic M3U playlist downloads
    url: ""  # Remote M3U playlist URL (HTTP/HTTPS)
    archive_dir: ./m3u_playlist  # Directory to store archived M3U files
    retention_count: 5  # Number of archived M3U files to keep
    max_file_size_mb: 500  # Maximum M3U file size in megabytes
    timeout_seconds: 300  # Download timeout in seconds (5 minutes)
    retry_attempts: 3  # Number of retry attempts on download failure
    
    # Optional: HTTP authentication
    # auth_username: ""
    # auth_password: ""
    
    # Optional: Scheduled downloads
    # schedule_enabled: false  # Enable automatic scheduled downloads
    # interval_hours: 24  # Download interval in hours

# File-based filters (can be overridden by runtime filters)
filter:
  group_title:
    include_patterns:
      - "^VOD - Movies"
      - "^Movies HD"
      - "^TV Shows"
      - "^Series"
    exclude_patterns:
      - "Sports"
      - "Podcast"
      - "Radio"
  
  tvg_name:
    include_patterns: []
    exclude_patterns:
      - "Trailer$"
      - "Sample$"

logging:
  format: json  # json or text
  
  # Modular logging configuration (recommended)
  # Control application and database logging independently
  app:
    level: info  # debug, info, warn, error
  database:
    level: warn  # debug, info, warn, error
  
  # Legacy configuration (deprecated)
  # If app/database levels are not set, this fallback will be used
  # level: info

api:
  port: 8080

# TMDB integration for metadata enrichment
tmdb:
  enabled: true
  api_key: your_tmdb_api_key_here  # Get from https://www.themoviedb.org/settings/api
  language: en-US  # Language for TMDB metadata (e.g., en-US, fr-FR, es-ES)

# Radarr integration (optional)
radarr:
  enabled: false
  url: http://localhost:7878
  api_key: your_radarr_api_key_here
  sync_interval: 3600  # seconds
  quality_profile_id: 1

# Sonarr integration (optional)
sonarr:
  enabled: false
  url: http://localhost:8989
  api_key: your_sonarr_api_key_here
  sync_interval: 3600  # seconds
  quality_profile_id: 1

# Download settings
downloads:
  movies_path: ./data/downloads/movies
  tvshows_path: ./data/downloads/tvshows
  temp_dir: ""  # Empty = use OS temp directory, or specify custom path
  max_parallel: 3  # Number of concurrent downloads
  timeout: 600  # Download timeout in seconds (10 minutes)
  retry_attempts: 3  # Number of retry attempts on failure
  
  # Resume downloads settings
  resume_enabled: true  # Enable resumable downloads
  progress_interval_mb: 10  # Persist progress every N megabytes
  progress_interval_seconds: 30  # Persist progress every N seconds (whichever comes first)
  lock_timeout_minutes: 5  # Consider locks older than this stale (for cleanup)
  max_retry_attempts: 5  # Maximum number of retry attempts before giving up
