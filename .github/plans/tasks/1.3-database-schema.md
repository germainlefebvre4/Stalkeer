# Task 1.3: Database Schema & GORM Setup

**Phase**: 1 (Foundation)  
**Complexity**: Medium  
**Status**: Not Started

## Description

Design and implement PostgreSQL schema with GORM models, migrations, and database connection pooling.

## Details

- Create GORM models in `/internal/models`:
  - `PlaylistItem`: id, tvg_name, group_title, tvg_logo, stream_url, content_type, season, episode, resolution, created_at, updated_at, override_by, override_at
  - `FilterConfig`: id, name, group_title (JSON), tvg_name (JSON), is_runtime, created_at, updated_at
  - `ProcessingLog`: id, action, item_count, status, started_at, completed_at, error_message

- Implement database package with:
  - Connection initialization with DSN from config
  - Connection pool configuration (max connections, idle timeout)
  - Auto-migration for GORM models
  - Health check function

- Create indexes:
  - Composite: `(group_title, tvg_name)`
  - Single: `content_type`, `created_at`
  - Single: `is_runtime` on FilterConfig for runtime filter queries

- Implement transaction support for multi-step operations

- Create database setup documentation for developers

## Dependencies

- Task 1.1 (Project structure)
- Task 1.2 (Configuration management)

## Acceptance Criteria

- [ ] All PostgreSQL tables created correctly with proper column types
- [ ] GORM models properly annotated with tags
- [ ] Migrations run successfully on fresh database
- [ ] Indexes created and improve query performance
- [ ] Test data inserts succeed
- [ ] Queries return expected results
- [ ] Connection pooling configured and working
- [ ] Database health check endpoint functional
